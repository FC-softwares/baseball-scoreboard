<html>
    <head>
        <title>Gestione Tabellone</title>
        <input type="hidden" value="0" id="passwd">
        <script>
          const digest = async ({ algorithm = "SHA-256", message }) =>
            Array.prototype.map
              .call(
                new Uint8Array(
                  await crypto.subtle.digest(algorithm, new TextEncoder().encode(message))
                ),
                (x) => ("0" + x.toString(16)).slice(-2)
              )
              .join("");
            digest({message: prompt("Enter Password:")})
              .then(ins=>{
                fetch("./password.php?passwd="+ins,{cache: "no-cache"})
                .then(response => response.json())
                .then(obj=>{
                  if(obj.code==200){
                    document.getElementById('passwd').value=ins;
                  }else{
                    if(confirm("Password incorrect\nTry Again?"))
                      window.location.replace("./admin.html");
                    else 
                      window.location.replace("./index.html");
                  }
                })
              })
        </script>
        <link rel="stylesheet" href="style.css" type="text/CSS">
        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@800&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"></script>
        <meta charset="UTF-8">
        <meta name=viewport content="width=device-width, initial-scale=1">
    </head>
    <body class="content">
      <div>
        <ul class="header ul-navbar">
          <li id="title" class="li-navbar">Baseball Scoreboard</li>
          <li class="li-navbar"><a href="./index.html" class="link a-navbar">Home</a></li>
          <li class="li-navbar"><a href="./admin.html" class="link active a-navbar">Admin</a></li>
          <li class="li-navbar"><a href="./auth.html" class="link a-navbar">Auth</a></li>
          <li class="li-navbar"><a href="./scoreboard.html" class="link a-navbar" target="_blank">Scoreboard <span class="material-icons" style="font-size: 18px;">open_in_new</span></a></li>
          <li class="li-navbar"><a href="./pregame.html" class="link a-navbar" target="_blank">Pre game <span class="material-icons" style="font-size: 18px;">open_in_new</span></a></li>
          <li class="li-navbar"><a href="./postgame.html" class="link a-navbar" target="_blank">Post game <span class="material-icons" style="font-size: 18px;">open_in_new</span></a></li>
          <li class="li-navbar"><a href="./parz.html" class="link a-navbar" target="_blank">Partials <span class="material-icons" style="font-size: 18px;">open_in_new</span></a></li>
        </ul>
      </div>
      <br>
        <table class="mainA">
            <tr>
                <td colspan="3" class="Bright" id="intball"><b>BALL</b></td>
                <td colspan="3" class="B-all"><b>STRIKE</b></td>
                <td colspan="3" class="Bleft"><b>OUT</b></td>
            </tr>
            <tr>
                <td class="Bleft"><button class="buttonminus" onclick='ball("-")'>-</button></td>
                <td><button onclick="ball('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick='ball("+")'>+</button></td>
                <td class="Bleft"><button class="buttonminus" onclick="strike('-')">-</button></td>
                <td><button onclick="strike('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick="strike('+')">+</button></td>
                <td class="Bleft"><button class="buttonminus" onclick="out('-')">-</button></td>
                <td><button onclick="out('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick="out('+')">+</button></td>
            </tr>
            <tr>
                <td colspan="6" style="border-top: 2px solid white; border-right: 2px solid white;"><button id="cia" onclick="resetc()">New Batter</button></td>
                <td colspan="3" style="border-top: 2px solid white;"></td>
            </tr>
        </table>
        <br>
        <table class="mainA">
            <tr>
                <td colspan="3" class="Bright" id="intining"><b>INNING</b></td>
                <td colspan="2" class="B-all"><b>TOP/BOT</b></td>
                <td colspan="3" class="Bright" style="border-right: 3px solid red;"><b>BASES</b></td>
            </tr>
            <tr>
                <td class="Bleft"><button class="buttonminus" onclick='ining("-")'>-</button></td>
                <td><button onclick="ining('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick='ining("+")'>+</button></td>
                <td class="Bleft"><button onclick="top1()">TOP</button></td>
                <td class="Bright" style="padding-left: 0px;"><button onclick="bot()">BOT</button></td>
                <td class="Bleft"><button onclick='b1()'>1° base</button></td>
                <td><button onclick="b2()">2° base</button></td>
                <td class="Bright" style="border-right: 3px solid red;"><button onclick='b3()'>3° base</button></td>
            </tr>
            <tr>
                <td colspan="9" style="border-top: 2px solid white;"><button onclick="reseti()" id="CIA">Auto Change Inning</button></td>
            </tr>
        </table>
        <br>
        <table class="mainA">
            <tr>
                <td colspan="3"><b>HOME</b></td>
                <td colspan="3"><b>AWAY</b></td>
            </tr>
            <tr>
                <td colspan="6">SCORE<br></td>
            </tr>
            <tr>
                <td class="Bleft"><button class="buttonminus" onclick='sHome("-")'>-</button></td>
                <td><button onclick="sHome('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick='sHome("+")'>+</button></td>
                <td class="Bleft"><button class="buttonminus" onclick="sAway('-')">-</button></td>
                <td><button onclick="sAway('0')">Reset</button></td>
                <td class="Bright"><button class="buttonplus" onclick="sAway('+')">+</button></td>
            </tr>
            <tr>
                <td colspan="6">NAME<br></td>
            </tr>
            <tr>
                <td class="Bright" colspan="3"><input type="text" size="6" name="nameH" id="nameH"></td>
                <td class="Bleft" colspan="3"><input type="text" size="6" name="nameA" id="nameA"></td>
            </tr>
            <tr>
                <td colspan="6">COLOR<br></td>
            </tr>
            <tr>
                <td class="Bright" colspan="3"><input type="color" name="colorH" id="colorH"></td>
                <td class="Bleft" colspan="3"><input type="color" name="colorA" id="colorA"></td>
            </tr>
            <tr>
                <td style="padding: 5px;" colspan="6"><input type="submit" value="Update" onclick="parm()"></td>
            </tr>
        </table>
        <br>
        <br>
        <iframe src="./scoreboard.html" width="480px" height="102px" id="scoreboard"></iframe>
        <br>
        <br>
        <iframe src="./parz.html" width="550px" height="152px" id="scoreboard"></iframe>
        <br>
        <br>
        <table class="mainA2">
            <tr>
                <td><button onclick="reseta()" class="buttonr">FULL RESET</button></td>
            </tr>
        </table>
        <br>
        <h2 class="title">SETTINGS</h2>
        <table class="tablesetmain">
          <tr>
            <td><table class="mainA tableset"><tr class="tablesetprop"><td  class="tablesetprop">MAX INNING</td></tr><td></td><tr class="tablesetprop"><td class="tablesetprop"><input type="number" min="1" id="max_ing"></td></tr></table></td>
            <td><div style="width: 1em;"></div></td>
            <td><table class="mainA tableset"><tr class="tablesetprop"><td class="tablesetprop">Blacken the last inning</td></tr><tr class="tablesetprop"><td class="tablesetprop"><select id="dark_current"><option value="true">ON</option><option value="false">OFF</option></select></td></tr></table></td>
          </tr>    
        </table>
        <br>
        <br>
        <br>
        <br>
        <table class="mainA2">
            <tr>
                <td><input type="submit" value="Update Settings" class="buttonr" onclick="update2()" style="background-color: black;"></td>
            </tr>
        </table>
        <script src="./set_script.js"></script>
        <script src="./script.js"></script>
        <div class="footer link">
            <div class="footer-text">
                <a id="LICENSE_link" href="#1">License</a> - <a id="README_link" href="#2">Readme</a>
            </div>
        </div>
        <div id="LICENSE" class="modal">
            <div class="modal-content">
              <div class="modal-body">
                <span class="close">&times;</span>
                <zero-md src="./LICENSE"></zero-md>
              </div>
            </div>
          </div>
  
          <div id="README" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-body">
                <span class="close1">&times;</span>
                <zero-md src="./README.md"></zero-md>
              </div>
            </div>
          </div>
      </body>
      <script>
          var modal = document.getElementById("LICENSE");
          var btn = document.getElementById("LICENSE_link");
          var span = document.getElementsByClassName("close")[0];
          btn.onclick = function() {
            modal.style.display = "block";
          }
          span.onclick = function() {
            modal.style.display = "none";
          }
          window.onclick = function(event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          }
          var modal1 = document.getElementById("README");
          var btn1 = document.getElementById("README_link");
          var span1 = document.getElementsByClassName("close1")[0];
          btn1.onclick = function() {
            modal1.style.display = "block";
          }
          span1.onclick = function() {
            modal1.style.display = "none";
          }
          window.onclick = function(event) {
            if (event.target == modal1) {
              modal1.style.display = "none";
            }
          }
          </script>
    </body>
</html>
